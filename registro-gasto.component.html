<!-- src/app/registro-gasto/registro-gasto.component.html -->
<div class="container">
  <h2>Registro de Gastos</h2>
  <form [formGroup]="gastoForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="descripcion">Descripción</label>
      <input type="text" id="descripcion" formControlName="Descripcion" class="form-control">
    </div>
    <div class="form-group">
      <label for="monto">Monto</label>
      <input type="number" id="monto" formControlName="monto" class="form-control">
    </div>
    <div class="form-group">
      <label for="fecha">Fecha</label>
      <input type="date" id="fecha" formControlName="fecha" class="form-control">
    </div>
    <div class="form-group">
      <label for="metodo">Método</label>
      <input type="text" id="metodo" formControlName="metodo" class="form-control">
    </div>
    <div class="form-group">
      <label for="Id_Tipo">Tipo</label>
      <input type="number" id="Id_Tipo" formControlName="Id_Tipo" class="form-control">
    </div>
    <div class="form-group">
      <label for="Id_Presupuesto">Presupuesto</label>
      <input type="number" id="Id_Presupuesto" formControlName="Id_Presupuesto" class="form-control">
    </div>
    <div class="form-group">
      <label for="Id_Usuario">Usuario</label>
      <input type="number" id="Id_Usuario" formControlName="Id_Usuario" class="form-control">
    </div>
  
    <button type="submit" class="btn btn-primary">{{ editingGasto ? 'Actualizar Gasto' : 'Agregar Gasto' }}</button>

    <button type="button" *ngIf="editingGasto" (click)="cancelEdit()" class="btn btn-secondary">Cancelar</button>
  </form>


  <h2>Lista de Gastos</h2>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>Descripción</th>
        <th>Monto</th>
        <th>Fecha</th>
        <th>Método</th>
        <th>Tipo</th>
        <th>Presupuesto</th>
        <th>Usuario</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let gasto of gastos">
        <td>{{ gasto.Id_Gasto }}</td>
        <td>{{ gasto.Descripcion }}</td>
        <td>{{ gasto.monto | currency }}</td>
        <td>{{ gasto.fecha | date }}</td>
        <td>{{ gasto.metodo }}</td>
        <td>{{ gasto.Id_Tipo }}</td>
        <td>{{ gasto.Id_Presupuesto }}</td>
        <td>{{ gasto.Id_Usuario }}</td>
        <td>
          <div class="action-buttons">
          <button (click)="editGasto(gasto)" class="btn btn-warning">Editar</button>
          <button (click)="deleteGasto(gasto.Id_Gasto)" class="btn btn-danger">Eliminar</button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
